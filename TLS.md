# What is TLS?
- TLS is an `encryption` and `authentication` protocol used to secure internet communications
- TLS occur when a communication using HTTPS, include HTTP request or DNS queries over HTTPS

# What happens during a TLS handshake?
- Specify TLS version to use
- Which cipher suites to use
- Authenticate server identity via server's public key and certificate authority's digital signature
- Generate session key to encrypt data (using symetric crytography algorithm) after the handshake is complete

# TLS handshake steps
The steps within a TLS handshake will vary depending on:
- The kind of key exchange algorithm
- Cipher suites supported by both sides - client and server

The following steps is used when RSA key exchange algorithm be used (before TLS 1.3):
- Client hello message: client sends message to server include the following information:
  - TLS version the client supports
  - The cipher suites supported
  - A string of random bytes known as the "client random."
- The 'server hello' message: Server reply client a 'server hello' message that includes:
  - The server's SSL certificate
  - The server's chosen cipher suite:
    - Key exchange - RSA/DHE - Algorithm to exchange premaster key (to generate nessesary key)
    - Authentication - Verify server identity
    - Encryption - Confidentiality for bulk data transfer
    - Hashing - use within MAC for data integrity
  - The "server random," another random string of bytes that's generated by the server
- Authentication: The client verifies the server's SSL certificate with the certificate authority that issued it.
  This confirms that the server is who it says it is, and that the client is interacting with the actual owner of the domain.
- The premaster secret: The client sends one more random string of bytes, the "premaster secret." The premaster secret is encrypted with the public key and can only be decrypted with the private key by the server. (The client gets the public key from the server's SSL certificate.)
- Private key used: The server decrypts the premaster secret
- Session keys created: Both client and server generate session keys from the client random, the server random, and the premaster secret. They should arrive at the same results.
- Client is ready: The client sends a "finished" message that is encrypted with a session key.
- Server is ready: The server sends a "finished" message encrypted with a session key.
- Secure symmetric encryption achieved: The handshake is completed, and communication continues using the session keys.

# Reference
- https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/
- https://www.cloudflare.com/learning/ssl/keyless-ssl/
- https://www.youtube.com/watch?v=P1v6QA0W7Xw
- https://www.youtube.com/watch?v=mV1h1e83O20
- https://www.khanacademy.org/computing/computer-science/cryptography/modern-crypt/v/intro-to-rsa-encryption
- https://github.com/FernandoMiguel/TLSguide
- https://www.youtube.com/watch?v=P1v6QA0W7Xw
- https://classes.pracnet.net/courses/practical-tls
- https://www.youtube.com/watch?v=mV1h1e83O20

